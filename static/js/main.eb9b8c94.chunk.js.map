{"version":3,"sources":["components/ReaderComponent/Counter/Counter.module.css","components/ReaderComponent/Reader/Reader.module.css","components/ReaderComponent/Publication/Publication.js","components/ReaderComponent/Counter/Counter.js","components/ReaderComponent/Controls/Controls.js","services/helper.js","components/ReaderComponent/Reader/Reader.js","components/App.js","index.js","components/ReaderComponent/Publication/Publication.module.css","components/ReaderComponent/Controls/Controls.module.css"],"names":["module","exports","counter","reader","Publication","_ref","item","react_default","a","createElement","className","styles","publication","title","text","Counter","activeIndex","itemTotal","defaultProps","Controls","onButtonClick","disabled","controls","type","name","button","onClick","getItemFromProps","props","qs","parse","location","search","Reader","state","onPublicationChange","history","_this","push","pathname","concat","Number","handleButton","items","activeItem","target","indexMax","length","index","indexOf","setState","indexMin","this","replace","ReaderComponent_Publication_Publication","ReaderComponent_Counter_Counter","ReaderComponent_Controls_Controls","Component","App","react_router","path","component","to","ReactDOM","render","react_router_dom","basename","document","getElementById"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,QAAA,8CCAlBF,EAAAC,QAAA,CAAkBE,OAAA,gNCeHC,EAZK,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAH,OAClBC,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOC,aACzBL,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOE,OAAQP,EAAKO,OACnCN,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOG,MAAOR,EAAKQ,yBCH/BC,EAAU,SAAAV,GAAA,IAAGW,EAAHX,EAAGW,YAAaC,EAAhBZ,EAAgBY,UAAhB,OACdV,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOT,SAClBc,EADH,IACiBC,IAOnBF,EAAQG,aAAe,CACrBF,YAAa,EACbC,UAAW,GAEEF,wBCaAI,EA1BE,SAAAd,GAAA,IAAGe,EAAHf,EAAGe,cAAeC,EAAlBhB,EAAkBgB,SAAlB,OACfd,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOW,UACzBf,EAAAC,EAAAC,cAAA,UACEc,KAAK,SACLC,KAAK,UACLd,UAAWC,IAAOc,OAClBC,QAASN,EACTC,SAAuB,IAAbA,GALZ,kCASAd,EAAAC,EAAAC,cAAA,UACEc,KAAK,SACLC,KAAK,QACLd,UAAWC,IAAOc,OAClBC,QAASN,EACTC,SAAuB,KAAbA,GALZ,4ECVG,IAAMM,EAAmB,SAAAC,GAAK,OAAIC,IAAGC,MAAMF,EAAMG,SAASC,QAAQ1B,aCIpD2B,6MACnBC,MAAQ,CACNlB,YAAa,KAwBfmB,oBAAsB,SAAAX,GAAQ,IACpBY,EAAYC,EAAKT,MAAjBQ,QACK,YAATZ,EACFY,EAAQE,KAAK,CACXC,SAAU,UACVP,OAAM,SAAAQ,OAAWC,OAAOd,EAAiBU,EAAKT,QAAU,KAG1DQ,EAAQE,KAAK,CACXC,SAAU,UACVP,OAAM,SAAAQ,OAAWC,OAAOd,EAAiBU,EAAKT,QAAU,QAK9Dc,aAAe,SAAArC,GAA0B,IDhDlBsC,EAAOC,ECgDFpB,EAAanB,EAAvBwC,OAAUrB,KAClBR,EAAgBqB,EAAKH,MAArBlB,YAEF8B,EAAWH,EAAMI,OACjBC,GDpDeL,ECoDEA,EDpDKC,ECoDED,EAAM3B,EAAc,GDnD7C2B,EAAMM,QAAQL,ICoDN,YAATpB,GACEwB,EAAQ,IAJG,GAKbX,EAAKa,SAAS,CAAElC,YAAamC,IAE/Bd,EAAKa,SAAS,SAAAhB,GAAK,MAAK,CACtBlB,YAAakB,EAAMlB,YAAc,OAG/BgC,EAAQ,IAAMF,EAAW,GAC3BT,EAAKa,SAAS,CAAElC,YAAa8B,EAAW,IAE1CT,EAAKa,SAAS,SAAAhB,GAAK,MAAK,CACtBlB,YAAakB,EAAMlB,YAAc,MAGrCqB,EAAKF,oBAAoBX,uFAnDP,IACVY,EAAYgB,KAAKxB,MAAjBQ,QACApB,EAAgBoC,KAAKlB,MAArBlB,YAER,IADaW,EAAiByB,KAAKxB,OAEjC,OAAOQ,EAAQiB,QAAQ,CACrBd,SAAU,UACVP,OAAM,SAAAQ,OAAW,KAGrBJ,EAAQE,KAAK,CACXC,SAAU,UACVP,OAAM,SAAAQ,OAAWxB,sCA0CZ,IACCA,EAAgBoC,KAAKlB,MAArBlB,YACF8B,EAAWH,EAAMI,OAEvB,OACExC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOR,QACrBI,EAAAC,EAAAC,cAAC6C,EAAD,CAAahD,KAAMqC,EAAM3B,EAAc,KACvCT,EAAAC,EAAAC,cAAC8C,EAAD,CAASvC,YAAaA,EAAaC,UAAW6B,IAC9CvC,EAAAC,EAAAC,cAAC+C,EAAD,CAAUpC,cAAegC,KAAKV,aAAcrB,SAAUL,YAxE1ByC,aCGrBC,EARH,kBACVnD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkD,EAAA,EAAD,KACEpD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOC,KAAK,IAAIC,UAAW5B,IAC3B1B,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUG,GAAG,eCHnBC,IAASC,OACPzD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAYC,SAAS,KACnB3D,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOE,UAAWH,KAEpBS,SAASC,eAAe,y/fCR1BpE,EAAAC,QAAA,CAAkBW,YAAA,iCAAAC,MAAA,2BAAAC,KAAA,8CCAlBd,EAAAC,QAAA,CAAkBqB,SAAA,2BAAAG,OAAA","file":"static/js/main.eb9b8c94.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__q0UeB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2FO24\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ item }) => (\n  <section className={styles.publication}>\n    <h2 className={styles.title}>{item.title}</h2>\n    <p className={styles.text}>{item.text}</p>\n  </section>\n);\nPublication.propTypes = {\n  item: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ activeIndex, itemTotal }) => (\n  <p className={styles.counter}>\n    {activeIndex}/{itemTotal}\n  </p>\n);\nCounter.propTypes = {\n  activeIndex: PropTypes.number,\n  itemTotal: PropTypes.number,\n};\nCounter.defaultProps = {\n  activeIndex: 0,\n  itemTotal: 0,\n};\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ onButtonClick, disabled }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      name=\"backBtn\"\n      className={styles.button}\n      onClick={onButtonClick}\n      disabled={disabled === 1}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      name=\"upBtn\"\n      className={styles.button}\n      onClick={onButtonClick}\n      disabled={disabled === 12}\n    >\n      Вперед\n    </button>\n  </section>\n);\nControls.propTypes = {\n  disabled: PropTypes.number.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\nexport default Controls;\n","import qs from 'query-string';\n\nexport function getIndex(items, activeItem) {\n  return items.indexOf(activeItem);\n}\nexport const getItemFromProps = props => qs.parse(props.location.search).item;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport styles from './Reader.module.css';\nimport { getIndex, getItemFromProps } from '../../../services/helper';\nimport items from '../../../assets/publications.json';\n\nexport default class Reader extends Component {\n  state = {\n    activeIndex: 1,\n  };\n\n  static propTypes = {\n    history: PropTypes.shape.isRequired,\n  };\n\n  // eslint-disable-next-line consistent-return\n  componentDidMount() {\n    const { history } = this.props;\n    const { activeIndex } = this.state;\n    const item = getItemFromProps(this.props);\n    if (!item) {\n      return history.replace({\n        pathname: '/reader',\n        search: `?item=${1}`,\n      });\n    }\n    history.push({\n      pathname: '/reader',\n      search: `?item=${activeIndex}`,\n    });\n  }\n\n  onPublicationChange = name => {\n    const { history } = this.props;\n    if (name === 'backBtn') {\n      history.push({\n        pathname: '/reader',\n        search: `?item=${Number(getItemFromProps(this.props)) - 1}`,\n      });\n    } else {\n      history.push({\n        pathname: '/reader',\n        search: `?item=${Number(getItemFromProps(this.props)) + 1}`,\n      });\n    }\n  };\n\n  handleButton = ({ target: { name } }) => {\n    const { activeIndex } = this.state;\n    const indexMin = 0;\n    const indexMax = items.length;\n    const index = getIndex(items, items[activeIndex - 1]);\n    if (name === 'backBtn') {\n      if (index - 1 === indexMin) {\n        this.setState({ activeIndex: indexMin + 2 });\n      }\n      this.setState(state => ({\n        activeIndex: state.activeIndex - 1,\n      }));\n    } else {\n      if (index + 1 === indexMax - 1) {\n        this.setState({ activeIndex: indexMax - 1 });\n      }\n      this.setState(state => ({\n        activeIndex: state.activeIndex + 1,\n      }));\n    }\n    this.onPublicationChange(name);\n  };\n\n  render() {\n    const { activeIndex } = this.state;\n    const indexMax = items.length;\n\n    return (\n      <div className={styles.reader}>\n        <Publication item={items[activeIndex - 1]} />\n        <Counter activeIndex={activeIndex} itemTotal={indexMax} />\n        <Controls onButtonClick={this.handleButton} disabled={activeIndex} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Reader from './ReaderComponent/Reader/Reader';\n\nconst App = () => (\n  <div>\n    <Switch>\n      <Route path=\"/\" component={Reader} />\n      <Redirect to=\"/reader\" />\n    </Switch>\n  </div>\n);\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__vTx4P\",\"title\":\"Publication_title__3z38U\",\"text\":\"Publication_text__3pzYn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__zWltS\",\"button\":\"Controls_button__12zX6\"};"],"sourceRoot":""}